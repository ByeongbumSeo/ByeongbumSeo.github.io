---
title: Gradle과 Maven(작성중)
date: 2024-02-27 20:00:22 +09:00
categories:
  - 언어
  - Java
tags:
  - Java
  - Gradle
  - Maven
  - 빌드관리도구
---


## 공부하게 된 배경
---

Gradle과 Maven은 둘 다 프로젝트 빌드, 의존성 관리 등을 자동화하는 빌드 도구다.

서버 개발에서는 여러 모듈과 라이브러리를 사용해 어플리케이션을 개발한다. 따라서 보통 Gradle 또는 Maven을 선택해서 사용하는 것이 대다수다.

나는 사이드 프로젝트에서는 Gradle을 사용해왔지만 회사에서는 Maven을 사용하고 있다.

대표적인 빌드 도구인 Gradle과 Maven에 대해서 자세히 정리하려 한다.

## 다루는 내용
---

- Gradle
- Maven

## 빌드 관리 도구란?
---

- 빌드 도구란 소프트웨어 개발에 있어서 소스 코드를 실행 가능한 애플리케이션으로 만들어주는 도구를 뜻한다. 빌드 과정을 자동화하여 관리하는 기능을 하기에 빌드 관리 도구 (Build Management Tool) 또는 빌드 자동화 도구 (Build Automation Tool)라고 불리기도 한다.

- 우리가 프로젝트에서 작성한 java 코드와 프로젝트 내에 필요한 각종 xml, properties, jar 파일들을 JVM이나 WAS가 인식할 수 있도록 패키징 해주는 빌드 과정 == "빌드 자동화 도구" 라고 할 수 있다!

- 프로젝트 생성, 테스트 빌드, 배포 등의 작업을 위한 전용 프로그램이라 할 수 있다.

- 애플리케이션을 개발하면서, 일밙겅르로 개발에 필요한 다양한 외부 라이브러리들을 다운로드하고, 

해당 라이브러리를 사용하여 개발해야하는 상황이 많다.

이 때 각 라이브러리들을 번거롭게 모두 다운받을 필요없이, 빌드도구 설정파일에 필요한 라이브러리 종류와 버전들, 종속성 정보를 명시하여

필요한 라이브러리들을 설정파일을 통해 자동으로 다운로드 해주고 이를 간편히 관리해주는 도구이다.

​
## Maven
---
스프링 프로젝트를 개발하게 되면 내가 작성한 코드만으로 개발하는 것이 아니고 많은 라이브러리들을 활용해서 개발을 하게 된다. 수많은 라이브러리들을 사용하게 되면 이를 관리하는 것이 힘들어지는데 Maven은 이러한 문제를 해결해줄 수 있는 도구다.

Maven은 내가 사용할 라이브러리뿐만 아니라 해당 라이브러리가 작동하는데 필요한 다른 라이브러리들까지 관리하여 자동으로 다운로드하여 준다.
​
- Maven은 Java용 프로젝트 관리도구로 Apache의 Ant 대안으로 만들어졌다.

- XML스크립트를 기반으로 하며, 빌드 중인 프로젝트, 빌드 순서, 다양한 외부 라이브러리 종속성 관계를 `pom.xml` 파일에 명시한다.

- Maven은 외부저장소에서 필요한 라이브러리와 플러그인들을 다운로드 한다음, 로컬시스템의 캐시에 모두 저장한다.

​

- 예를 들어, "Spring Boot Data JPA Starter" 모듈을 사용하여 프로젝트를 개발하고 싶다면 메이븐레포지토리에서 해당 모듈을 검색하여 xml 설정파일에 추가하여 사용할 수 있다. (참고로 maven용 코드 이외에도 gradle용 코드도 탭에 있다.)

https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa/2.2.4.RELEASE

```xml
<!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa -->
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-data-jpa</artifactId>
    <version>2.2.4.RELEASE</version>
</dependency>
```

### POM - Project Object Model
pom은 Project Object Model 의 약자로 이름 그대로 Project Object Model의 정보를 담고있는 파일이다. 이 파일에서 주요하게 다루는 기능들은 다음과 같다.

- 프로젝트 정보 : 프로젝트의 이름, 개발자 목록, 라이센스 등
- 빌드 설정 : 소스, 리소스, 라이프 사이클별 실행한 플러그인(goal)등 빌드와 관련된 설정
- 빌드 환경 : 사용자 환경 별로 달라질 수 있는 프로파일 정보
- POM연관 정보 : 의존 프로젝트(모듈), 상위 프로젝트, 포함하고 있는 하위 모듈 등

POM은 pom.xml파일을 말하며 Maven의 기능을 이용하기 위해 POM이 사용된다.


### Maven의 Life Cycle
메이븐(Maven)에서는 미리 정의하고 있는 빌드 순서가 있는데 이 순서를 라이프사이클(Life Cycle)라고 한다.
라이프 사이클의 빌드 단계를 Phase라고 하는데 Phase들은 의존 관계를 가지고 있어 해당 Phase가 수행되려면 이전 단계의 Phase가 모두 수행되어야 한다.

※ Maven에서 제공되는 모든 기능은 플러그인 기반으로 동작하는데 Phase 또한 플러그인을 통해 실질적인 작업이 수행된다.

Phase : Maven의 Build Life Cycle의 각각의 단계를 의미

- Clean : 이전 빌드에서 생성된 파일들을 삭제하는 단계
- Validate : 프로젝트가 올바른지 확인하고 필요한 모든 정보를 사용할 수 있는지 확인하는 단계
- Compile : 프로젝트의 소스 코드를 컴파일하는 단계
- Test : 유닛(단위) 테스트를 수행하는 단계 - (테스트 실패 시 빌드 실패로 처리한다. 스킵 가능)
- Package : 실제 컴파일된 소스 코드와 리소스들을 jar 등의 배포를 위한 패키지로 만드는 단계
- Verify : 통합 테스트 결과에 대한 검사를 실행하여 품질 기준을 충족하는지 확인하는 단계
- Install : 패키지를 로컬 저장소에 설치하는 단계
- Site : 프로젝트 문서를 생성하는 단계
- Deploy : 만들어진 패키지(Package)를 원격 저장소에 release 하는 단계

위의 라이프 사이클(Life Cycle) 외에도 더 많은 라이프 사이클이 존재한다.
이를 크게 Clean, Build, Site 3가지 라이프 사이클로 나누고 있고, 각 단계를 모두 수행하는 것이 아니라 원하는 단계까지만 수행할 수 있다.

### 장점

- 컴파일과 빌드를 동시에 수행할 수 있다.
- 서버의 Deploy 자원을 관리할 수 있는 환경을 제공한다.
- pom.xml 파일을 통해 관리하므로 개발, 유지보수 측면에서 오픈소스 라이브러리, 프로젝트 등 관리가 용이하다.
- IDE에 종속된 부분들을 제거할 수 있다.
- Maven Profile 기능을 통해 배포 설정 파일을 관리하고 배포 파일을 생성할 수 있다.

### 단점

- Maven에서 기본적으로 지원하지 않는 빌드 과정을 추가해야 하는 경우 상당한 고생이 따른다.
- 특정 플러그인이 설정이 약간만 달라도 해당 설정을 분리해서 중복 기술할 때가 발생한다. 불필요하게 설정이 길어지고 중복, 가독성 저하가 발생하여 유지보수성을 떨어뜨린다.
- 이와 같은 단점을 해결하기 위해, Gradle(그레이들)이라는 새로운 빌드 툴이 등장하였다. Gradle은 안드로이드 애플리케이션의 기본 빌드 툴로 채택되었다.



## Gradle
---

- Apacahe Maven과 Apache Ant에서 볼수 있는 개념들을 사용하는 대안으로써 나온 프로젝트 빌드 관리 툴이다. (완전한 오픈소스)

- Java, Groovy, Kotlin 등의 언어들을 지원한다.

- Groovy 언어를 사용한 Domain-specific-language를 사용한다. (설정파일을 xml파일을 사용하는 Maven보다 코드가 훨씬 간결하다.)

- 2007년에 처음 개발되었고, 2013년에 구글에 의해 안드로이드 프로젝트의 빌드 시스템으로 채택되었다.

- 꽤 큰규모로 예상되는 multi-project 빌드를 도울 수 있도록 디자인되었다.

- Gradle은 프로젝트의 어느부분이 업데이트되었는지 알기 때문에, 빌드에 점진적으로 추가할 수 있다.

-> 업데이트가 이미 반영된 빌드의 부분은 즉 더이상 재실행되지 않는다. (따라서 빌드 시간이 훨씬 단축될 수 있다!)

​



## Gradle vs Maven
---

1. 스크립트 길이와 가독성 면에서 gradle이 우세하다.

2. 빌드와 테스트 실행 결과 gradle이 더 빠르다. (gradle은 캐시를 사용하기 때문에 테스트 반복 시 차이가 더 커진다.)

3. 의존성이 늘어날 수록 성능과 스크립트 품질의 차이가 심해질 것이다.

maven은 프로젝트가 커질수록 빌드 스크립트의 내용이 길어지고 가독성이 떨어집니다.

반면에 gradle은 훨씬 적은 양의 스크립트로 짧고 간결하게 작성할 수 있습니다.

 
maven이 정적인 형태의 XML 기반으로 작성되어 동적인 빌드를 적용할 경우 어려움이 많다면,

gradle은 Groovy를 사용하기 때문에 동적인 빌드는 Groovy 스크립트로 플러그인을 호출하거나 직접 코드를 짜면 됩니다.






산업 표준: Maven은 오랜 기간 동안 Java 프로젝트의 빌드 및 의존성 관리를 위한 산업 표준 도구로 자리 잡았습니다. 따라서 Maven을 이해하고 사용하는 것은 많은 기업 및 프로젝트에서 요구되는 기본 지식입니다.

커뮤니티 및 생태계: Maven은 매우 큰 사용자 커뮤니티와 풍부한 생태계를 갖고 있습니다. 따라서 Maven을 사용하는 경우 관련된 문서, 플러그인, 템플릿 등을 쉽게 찾을 수 있습니다.

프로젝트 요구사항: 프로젝트나 기업의 요구사항에 따라 Gradle 또는 Maven을 사용하는 경우가 다를 수 있습니다. 특정 프로젝트에서는 이미 Maven을 사용 중이거나, 기존에 Maven 기반의 프로젝트가 많은 경우 Maven을 사용하는 것이 더 적절할 수 있습니다.

기술 스택 및 선호도: 개발자 개인이나 팀의 기술 스택 및 선호도에 따라 Gradle이나 Maven 중 하나를 선호하는 경우도 있습니다. Gradle은 Groovy 기반의 DSL을 사용하여 빌드 스크립트를 작성하므로, Groovy나 DSL에 익숙한 개발자에게는 Gradle이 보다 편리할 수 있습니다.


프로젝트의 특성과 요구사항에 따라 적절한 도구를 선택하고 활용할 수 있어야 합니다.


프로젝트 관리 및 의존성 관리: 서버 개발에서는 여러 모듈과 라이브러리를 사용해 복잡한 애플리케이션을 개발합니다. Gradle과 Maven은 이러한 의존성을 관리하고, 프로젝트를 효율적으로 구성하는 데 도움을 줍니다. 이를 통해 개발자는 라이브러리의 버전 관리나 외부 의존성에 대한 걱정 없이 개발에 집중할 수 있습니다.

빌드 자동화: 서버 애플리케이션은 주기적으로 또는 특정 이벤트에 따라 빌드되어야 합니다. Gradle과 Maven은 이러한 빌드 프로세스를 자동화하여 효율적으로 관리할 수 있도록 도와줍니다. 이를 통해 개발자는 빌드 및 배포 과정을 간편하게 수행할 수 있습니다.

다양한 플러그인 및 기능: Gradle과 Maven은 다양한 플러그인과 기능을 제공하여 개발자가 프로젝트에 필요한 기능을 추가할 수 있습니다. 예를 들어, 테스트 실행, 정적 코드 분석, 문서 생성 등 다양한 작업을 자동화할 수 있습니다.

산출물 관리: 서버 애플리케이션의 빌드 과정에서 생성되는 산출물(바이너리, 문서 등)을 관리하는 것도 중요합니다. Gradle과 Maven은 이러한 산출물을 효율적으로 관리하고 배포할 수 있는 기능을 제공합니다.

산업 표준 및 커뮤니티 지원: Gradle과 Maven은 모두 널리 사용되는 산업 표준 빌드 도구이며, 각각의 커뮤니티와 생태계가 형성되어 있습니다. 서버 개발자로서는 이러한 도구에 대한 이해와 숙련이 필요하며, 온라인 커뮤니티에서의 지원을 받을 수 있습니다.


## : Reference
---
- [지수의 개발 기록장 - Maven,Gradle](https://jisooo.tistory.com/entry/Spring-%EB%B9%8C%EB%93%9C-%EA%B4%80%EB%A6%AC-%EB%8F%84%EA%B5%AC-Maven%EA%B3%BC-Gradle-%EB%B9%84%EA%B5%90%ED%95%98%EA%B8%B0)
- [무작정 개발 - Maven,Gradle](https://backendcode.tistory.com/199)